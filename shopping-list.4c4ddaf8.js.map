{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MA8EMC,EAAaC,IACjB,MAEMC,EAFYC,SAASC,cAAc,kBAEjBC,iBAAiB,kBAEzC,GAAIJ,GAAS,GAAKA,EAAQC,EAAMI,OAAQ,CACjBJ,EAAMD,GACdM,Q,GArFAC,W,IAOZC,EANH,MAAMC,EAAYP,SAASC,cAAc,kBACnCO,QAAa,EAAAb,EAAAc,eAEnB,IACGD,GACe,IAAhBA,EAAKL,UACG,QAAPG,EAAAE,EAAK,UAAE,IAAPF,OAAA,EAAAA,EAASI,QACe,IAAzBF,EAAK,GAAGE,MAAMP,OAUd,YARAI,EAAUI,UAAY,yQAUxB,MAAMC,EAAYZ,SAASC,cAAc,gBAAgBY,aAAa,OAChEC,EAAUd,SAASC,cAAc,cAAcY,aAAa,OAC5DE,EAAUf,SAASC,cAAc,cAAcY,aAAa,OAE5DG,EAAkBR,EAAK,GAAGE,MAC7BO,MAAM,EAAG,GACTC,KAAI,EAACC,MAAEA,EAAKC,OAAEA,EAAMC,WAAEA,EAAUC,YAAEA,EAAWC,UAAEA,EAASC,UAAEA,KAelD,yHAG6BH,WAAoBF,uXAUnBA,sDACEK,wDACGF,kHAGLF,wBAhCvB,8DAECG,EAAU,GAAGE,8EACUb,wDAEvBW,EAAU,GAAGE,4EACQX,wDAErBS,EAAU,GAAGE,4EACQV,4HA8BrCW,KAAK,IAERnB,EAAUI,UAAYK,EAEAhB,SAASE,iBAAiB,kBAClCyB,SAAQ,CAACC,EAAQ9B,KAC7B8B,EAAOC,iBAAiB,SAAS,KAC/BhC,EAAWC,EAAM,GACjB,GACF,EAcJgC","sources":["src/js/shopping-list.js"],"sourcesContent":["import { getTopBooks } from './main-fetch.js';\n\nconst drawList = async () => {\n  const container = document.querySelector('.shopping-list');\n  const data = await getTopBooks();\n\n  if (\n    !data ||\n    data.length === 0 ||\n    !data[0]?.books ||\n    data[0].books.length === 0\n  ) {\n    container.innerHTML = `\n      <div class=\"page-empty\">\n        <h2 class=\"empty-description\">\n          This page is empty, add some books and proceed to order.\n        </h2>\n        <img class=\"img-empty\" src=\"./images/shopping-list/books.png\" alt=\"books\" />\n      </div>\n    `;\n    return;\n  }\n  const amazonImg = document.querySelector('.amazon-link').getAttribute('src');\n  const pageImg = document.querySelector('.page-link').getAttribute('src');\n  const bookImg = document.querySelector('.book-link').getAttribute('src');\n\n  const dynamicElements = data[0].books\n    .slice(0, 3)\n    .map(({ title, author, book_image, description, buy_links, list_name }) => {\n      const links = `\n        <div class=\"shopping-links\">\n          <a href=\"${buy_links[0].url}\" rel=\"noopener noreferrer\">\n            <img class=\"amazon-link\" src=\"${amazonImg}\" alt=\"name\" />\n          </a>\n          <a href=\"${buy_links[1].url}\" rel=\"noopener noreferrer\">\n            <img class=\"page-link\" src=\"${pageImg}\" alt=\"page\" />\n          </a>\n          <a href=\"${buy_links[2].url}\" rel=\"noopener noreferrer\">\n            <img class=\"book-link\" src=\"${bookImg}\" alt=\"book\" />\n          </a>\n        </div>\n      `;\n\n      return `\n        <li class=\"shopping-card\">\n          <div class=\"shopping-cover\">\n            <img class=\"img-cover\" src=\"${book_image}\" alt=\"${title}\" />\n          </div>\n          <div class=\"shopping-content\">\n          \n            <button class=\"remove-button\">\n              <svg class=\"remove-icon\" width=\"12\" height=\"12\">\n                <use href=\"./images/shopping-list/remove.svg#icon-Icon\"></use>\n              </svg>\n            </button>\n            <div>\n              <h2 class=\"shopping-title\">${title}</h2>\n              <p class=\"shopping-category\">${list_name}</p>\n              <p class=\"shopping-description\">${description}</p>\n            </div>\n            <div class=\"shopping-footer\">\n              <p class=\"shopping-author\">${author}</p>\n              ${links}\n            </div>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n\n  container.innerHTML = dynamicElements;\n\n  const removeButtons = document.querySelectorAll('.remove-button');\n  removeButtons.forEach((button, index) => {\n    button.addEventListener('click', () => {\n      removeBook(index);\n    });\n  });\n};\n\nconst removeBook = index => {\n  const container = document.querySelector('.shopping-list');\n\n  const cards = container.querySelectorAll('.shopping-card');\n\n  if (index >= 0 && index < cards.length) {\n    const cardToRemove = cards[index];\n    cardToRemove.remove();\n  }\n};\n\ndrawList();\n"],"names":["$615fE","parcelRequire","$e5c62ffd1c5d842f$var$removeBook","index","cards","document","querySelector","querySelectorAll","length","remove","async","ref","container","data","getTopBooks","books","innerHTML","amazonImg","getAttribute","pageImg","bookImg","dynamicElements","slice","map","title","author","book_image","description","buy_links","list_name","url","join","forEach","button","addEventListener","$e5c62ffd1c5d842f$var$drawList"],"version":3,"file":"shopping-list.4c4ddaf8.js.map"}