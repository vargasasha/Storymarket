!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){o[e]=t},t.parcelRequired7c6=r),r("f3isR");var c={openBurgerBtn:document.querySelector(".burger-menu"),closeBurgerBtn:document.querySelector(".mobile-menu__button"),burger:document.querySelector(".mobile-menu-container")};function a(){c.burger.classList.toggle("is-hidden")}function l(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e),document.querySelectorAll('.common-toggle input[type="checkbox"]').forEach((function(t){t.checked="dark"===e}))}c.openBurgerBtn.addEventListener("click",a),c.closeBurgerBtn.addEventListener("click",a);var s=localStorage.getItem("theme");l(s||"light"),document.querySelectorAll('.common-toggle input[type="checkbox"]').forEach((function(e){e.addEventListener("change",(function(e){e.target.checked?l("dark"):l("light")}),!1)}));var i=r("f3isR"),u=document.querySelector(".js-list"),d=document.querySelector(".js-category-books-title"),m=document.querySelector(".categories-list"),g=document.querySelector(".best-sellers"),f=document.querySelector(".best-sellers-title");function b(e){var t,n,o;t=e.split(" "),n=t[t.length-1],o=t.slice(0,t.length-1).join(" ")+" ",d.innerHTML='<h2 class="category-title-begin">'.concat(o,'<span class="category-title-end">').concat(n,"</span></h2>"),(0,i.getBookByCategory)(e).then((function(e){u.innerHTML=e.map((function(e){var t=e.book_image,n=e.title,o=e.author,r=e._id;return'<li class="category-item" id="'.concat(r,'">\n        <a href="">\n          <div class="book-card-wrap">\n            <img src="').concat(t,'" alt="').concat(n,'" />\n            <p class="card-up-text">quick view</p>\n          </div>\n         \n            <h3 class="book-card-title">').concat(n,'</h3>\n            <p class="book-card-author">').concat(o,"</p>\n          </div>\n        </a>\n      </li>")})).join("")}))}m.addEventListener("click",(function(e){if("A"!==e.target.nodeName||"All category"===e.target.textContent)return;e.preventDefault(),f.textContent="",g.innerHTML="",b(e.target.textContent)})),g.addEventListener("click",(function(e){if("best-sellers-button"!==e.target.className)return;f.textContent="",g.innerHTML="",b(e.target.dataset.category)}));var p=r("bpxeT"),h=r("2TvXO"),v=(i=r("f3isR"),document.querySelector(".categories-list"));function y(){return(y=e(p)(e(h).mark((function t(){var n,o,r,c,a,l,s,u,d;return e(h).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.getCategoriesList)("category-list");case 2:for(n=e.sent,o=[],r=!0,c=!1,a=void 0,e.prev=5,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)u=s.value.list_name,o.push(u);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),c=!0,a=e.t0;case 13:e.prev=13,e.prev=14,r||null==l.return||l.return();case 16:if(e.prev=16,!c){e.next=19;break}throw a;case 19:return e.finish(16);case 20:return e.finish(13);case 21:d=o.sort((function(e,t){return e.localeCompare(t)})).map((function(e){return'<li class="category__item"><a href="" class="js-categ-link category__link">'.concat(e,"</a></li>")})).join(""),v.insertAdjacentHTML("beforeend",d);case 23:case"end":return e.stop()}}),t,null,[[5,9,13,21],[14,,16,20]])})))).apply(this,arguments)}v.insertAdjacentHTML("afterbegin",'<li><a href="./index.html" class="js-categ-link category__link-all current-category">All category</a></li>'),function(){y.apply(this,arguments)}();p=r("bpxeT"),h=r("2TvXO"),i=r("f3isR");var _=document.querySelector(".modal-backdrop"),k=document.querySelector(".modal-container");function L(){return(L=e(p)(e(h).mark((function t(n){var o;return e(h).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),o=n.target.closest(".category-item").id,e.prev=2,e.next=5,(0,i.getBookById)(o);case 5:w(e.sent),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}function w(e){var t=e.book_image,n=e.title,o=e.description,r=e._id,c='               \n<div class="book-card__modal" data-modal>\n   <button class="book-card__close modal-book__btn" data-modal-close>X</button>\n  <img\n    class="book-card__img"\n    src="'.concat(t,'"\n    width="375px"\n    height="468px"\n    alt="book__img"\n  />\n      <div class="book-card__about">\n      <h3 class="book-card__title">').concat(n,'</h3>\n      <p class="book-card__desc">\n       ').concat(o,'\n      </p>\n      <ul class="book-add__btn">\n        <li><button class="book-add__watched modal-book__btn" id=').concat(r,">add to Watched</button></li>\n      </ul>\n    </div>\n  </div>\n  \n");k.insertAdjacentHTML("beforeend",c);var a={closeModalBtn:document.querySelector("[data-modal-close]"),body:document.querySelector("body")};function l(){window.removeEventListener("keydown",i),a.body.style.overflow="",_.classList.remove("active"),a.closeModalBtn.removeEventListener("click",l),_.removeEventListener("click",s),k.innerHTML=""}function s(e){e.target===e.currentTarget&&l()}function i(e){"Escape"===e.code&&l()}_.classList.toggle("active"),a.closeModalBtn.addEventListener("click",l),_.addEventListener("click",s),window.addEventListener("keydown",i),a.body.style.overflow="hidden"}document.querySelector(".js-list").addEventListener("click",(function(e){return L.apply(this,arguments)}));i=r("f3isR");var x=document.querySelector(".best-sellers"),S=q();function q(){var e=window.innerWidth;return e>=1440?5:e>=768?3:e>=375?1:void 0}function E(e){return e.map((function(e){var t=e.books.slice(0,S).map((function(e){return'\n      <li class="best-sellers__item">\n        <img class="best-sellers__img" src="'.concat(e.book_image,'" alt="" />\n        <h3 class="best-sellers__name">').concat(e.title,'</h3>\n        <p class="best-sellers__author">').concat(e.author,"</p>\n      </li>\n    ")})).join("");return'<div class="best-sellers__container">\n              <p class="best-sellers__categori"> '.concat(e.list_name,'</p>\n              <ul class="best-sellers__list">\n              ').concat(t,'\n              </ul>\n              <div class="button-conteiner">\n              <button class="best-sellers-button" data-category="').concat(e.list_name,'">see more</button>\n              </div>\n            </div>')})).join("")}(0,i.getTopBooks)().then((function(e){x.innerHTML=E(e)})),window.addEventListener("resize",(function(){S=q(),x.innerHTML=E(response)}));var T=document.querySelectorAll(".changeTheme");function B(e){document.querySelector('[title="theme"]').setAttribute("href","sass/utils/_theme-".concat(e,".scss")),T.forEach((function(e){e.style.display="block"})),document.querySelector('[data-theme="'.concat(e,'"]')).style.display="none",localStorage.setItem("theme",e)}T.forEach((function(e){e.addEventListener("click",(function(){B(this.dataset.theme)}))}));var M=localStorage.getItem("theme");null===M||"light"===M?B("light"):"dark"===M&&B("dark"),r("h2DKL")}();
//# sourceMappingURL=index.b5fb929e.js.map
