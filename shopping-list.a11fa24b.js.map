{"mappings":"8pBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCCnBTE,EAAAC,QAAiBC,EAAA,SAAAC,aAA6C,SAAWD,EAAA,SAAAE,QAA6C,Q,sCC8CtH,IAAAC,E,6EA5CA,IAAIC,EAAY,GA6BhB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAO,+DAAiE,MAAQ,G,CAcpGJ,EA1CA,SAA4BR,GAC1B,IAAIa,EAAQJ,EAAUT,GAOtB,OALKa,IACHA,EAOJ,WACE,IACE,MAAM,IAAIX,K,CACV,MAAOY,GACP,IAAIC,GAAW,GAAKD,EAAIE,OAAOC,MAAK,yDAEpC,GAAIF,EAGF,OAAOL,EAAWK,EAAQ,G,CAI9B,MAAO,G,CApBGG,GACRT,EAAUT,GAAMa,GAGXA,C,uCCZTV,EAAAC,QAAiBC,EAAA,SAAAC,aAA6C,SAAWD,EAAA,SAAAE,QAA6C,Q,sCCAtHJ,EAAAC,QAAiBC,EAAA,SAAAC,aAA6C,SAAWD,EAAA,SAAAE,QAA6C,Q,sCCAtHJ,EAAAC,QAAiBC,EAAA,SAAAC,aAA6C,SAAWD,EAAA,SAAAE,QAA6C,Q,sCCAtHJ,EAAAC,QAAiBC,EAAA,SAAAC,aAA6C,SAAWD,EAAA,SAAAE,QAA6C,Q,ICAtHF,EAAA,SAAAc,SAA8CC,KAAKC,MAAM,kVCAzD,I,EAAAC,EAAAjB,EAAA,S,0BAEMkB,G,EAAWC,EAAAF,EAAA,CAAAE,EAAAC,GAAAC,MAAA,SAAAC,I,IACTC,EAGAC,EAGAC,E,yEANAF,EAAYG,SAASC,cAAc,kB,UAGtB,EAAAC,EAAAC,e,OAAbL,EAAIM,EAAAC,KAGJN,EAAkBD,EAAK,GAAGQ,MAAMtC,OAClC8B,EAAK,GAAGQ,MACLC,MAAM,EAAG,GACTC,KACC,SAAAC,G,IACEC,EAAKD,EAALC,MACAC,EAAMF,EAANE,OACAC,EAAUH,EAAVG,WACAC,EAAWJ,EAAXI,YACAC,EAASL,EAATK,UACAC,EAASN,EAATM,UAEMC,EAAQ,8DAGkBC,OADvBH,EAAU,GAAGlC,IAAI,4EAGjBqC,OAFuB3C,EAAA,SAA8C,wDAGhD2C,OADrBH,EAAU,GAAGlC,IAAI,0EAGjBqC,OAFqB3C,EAAA,SAA2C,wDAG3C2C,OADrBH,EAAU,GAAGlC,IAAI,0EACgDqC,OAA5C3C,EAAA,SAA4C,2DAK1E,MAAO,yHAG2C2C,OAApBL,EAAW,WAKRK,OALiBP,EAAM,+JASzBO,OAJE3C,EAAA,SAAmD,sGAKnD2C,OADFP,EAAM,sDAEDO,OADHF,EAAU,wDAIZE,OAHKJ,EAAY,kHAI5CI,OAD2BN,EAAO,wBAC5BM,OAAND,EAAM,gE,IAObE,KAAK,IACR,iNAMwDD,OAA7C3C,EAAA,SAA6C,qDAK5D6C,QAAQC,IACN,6DACArB,GAEFF,EAAUwB,UAAYtB,EAEtBoB,QAAQG,QAEctB,SAASuB,iBAAiB,kBAClCC,SAAQ,SAACC,EAAQC,GAC7BD,EAAOE,iBAAiB,SAAS,WAC/BC,EAAWF,E,+FAKXE,EAAa,SAAAF,GACjB,IAEMG,EAFY7B,SAASC,cAAc,kBAEjBsB,iBAAiB,kBAErCG,GAAS,GAAKA,EAAQG,EAAM7D,QACT6D,EAAMH,GACdI,Q,EAIjBtC,I","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-b0f244935da0e5bb.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-d777eb76d36da679.js","node_modules/@parcel/runtime-js/lib/runtime-e12600771a068855.js","node_modules/@parcel/runtime-js/lib/runtime-93a31e7a53d7e5dc.js","node_modules/@parcel/runtime-js/lib/runtime-5d0b1592324ef7e4.js","node_modules/@parcel/runtime-js/lib/runtime-fb44a59075a3c1c8.js","src/js/shopping-list.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"cPcuO\");","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"1gwzf\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"jjn9F\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"1HnXK\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"fYroV\");","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jSFKT\\\":\\\"shopping-list.a11fa24b.js\\\",\\\"cPcuO\\\":\\\"amazon.a5fcee15.png\\\",\\\"1gwzf\\\":\\\"out.f357048c.png\\\",\\\"jjn9F\\\":\\\"book.d9cf0e69.png\\\",\\\"1HnXK\\\":\\\"remove-icon.f014307d.svg\\\",\\\"fYroV\\\":\\\"books.26cd9257.png\\\",\\\"cfiU8\\\":\\\"index.5ecfcbdb.js\\\"}\"));","import { getTopBooks } from './main-fetch.js';\n\nconst drawList = async () => {\n  const container = document.querySelector('.shopping-list');\n\n\n  const data = await getTopBooks();\n  //const data = JSON.parse(localStorage.getItem('shopping-list'));\n\n  const dynamicElements = data[0].books.length\n    ? data[0].books\n        .slice(0, 3)\n        .map(\n          ({\n            title,\n            author,\n            book_image,\n            description,\n            buy_links,\n            list_name,\n          }) => {\n            const links = `\n        <div class=\"shopping-links\">\n          <a href=\"${buy_links[0].url}\" rel=\"noopener noreferrer\">\n            <img class=\"amazon-link\" src=\"${require('../images/shopping-list/amazon.png')}\" alt=\"name\" />\n          </a>\n          <a href=\"${buy_links[1].url}\" rel=\"noopener noreferrer\">\n            <img class=\"page-link\" src=\"${require('../images/shopping-list/out.png')}\" alt=\"page\" />\n          </a>\n          <a href=\"${buy_links[2].url}\" rel=\"noopener noreferrer\">\n            <img class=\"book-link\" src=\"${require('../images/shopping-list/book.png')}\" alt=\"book\" />\n          </a>\n        </div>\n      `;\n\n            return `\n        <li class=\"shopping-card\">\n          <div class=\"shopping-cover\">\n            <img class=\"img-cover\" src=\"${book_image}\" alt=\"${title}\" />\n          </div>\n          <div class=\"shopping-content\">\n\n            <button class=\"remove-button\">\n             <img class=\"remove-icon\" src=\"${require('../images/shopping-list/remove-icon.svg')}\" alt=''>\n\n            </button>\n            <div>\n              <h2 class=\"shopping-title\">${title}</h2>\n              <p class=\"shopping-category\">${list_name}</p>\n              <p class=\"shopping-description\">${description}</p>\n            </div>\n            <div class=\"shopping-footer\">\n              <p class=\"shopping-author\">${author}</p>\n              ${links}\n            </div>\n          </div>\n        </li>\n      `;\n          }\n        )\n        .join('')\n    : `<li class=\"page-empty\">\n        <h2 class=\"empty-description\">\n          This page is empty, add some books and proceed to order.\n        </h2>\n        <img\n          class=\"img-empty\"\n          src=\"${require('../images/shopping-list/books.png')}\"\n          alt=\"books\"\n        />\n      </li>`;\n\n  console.log(\n    ' ~ file: shopping-list.js:81 ~ drawList ~ dynamicElements:',\n    dynamicElements\n  );\n  container.innerHTML = dynamicElements;\n\n  console.clear();\n  \n  const removeButtons = document.querySelectorAll('.remove-button');\n  removeButtons.forEach((button, index) => {\n    button.addEventListener('click', () => {\n      removeBook(index);\n    });\n  });\n};\n\nconst removeBook = index => {\n  const container = document.querySelector('.shopping-list');\n\n  const cards = container.querySelectorAll('.shopping-card');\n\n  if (index >= 0 && index < cards.length) {\n    const cardToRemove = cards[index];\n    cardToRemove.remove();\n  }\n};\n\ndrawList();\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","parcelRequire","getBundleURL","resolve","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","register","JSON","parse","$bpxeT","$399cd7aec2522034$var$drawList","$parcel$interopDefault","$2TvXO","mark","_callee","container","data","dynamicElements","document","querySelector","$f3isR","getTopBooks","_ctx","sent","books","slice","map","param","title","author","book_image","description","buy_links","list_name","links","concat","join","console","log","innerHTML","clear","querySelectorAll","forEach","button","index","addEventListener","$399cd7aec2522034$var$removeBook","cards","remove"],"version":3,"file":"shopping-list.a11fa24b.js.map"}