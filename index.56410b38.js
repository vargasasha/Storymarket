var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var c={id:e,exports:{}};return t[e]=c,o.call(c.exports,c,c.exports),c.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("615fE");const c={openBurgerBtn:document.querySelector(".burger-menu"),closeBurgerBtn:document.querySelector(".mobile-menu__button"),burger:document.querySelector(".mobile-menu-container")};function r(){c.burger.classList.toggle("is-hidden")}function s(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);document.querySelectorAll('.common-toggle input[type="checkbox"]').forEach((function(t){t.checked="dark"===e}))}c.openBurgerBtn.addEventListener("click",r),c.closeBurgerBtn.addEventListener("click",r);const l=localStorage.getItem("theme");s(l||"light");document.querySelectorAll('.common-toggle input[type="checkbox"]').forEach((function(e){e.addEventListener("change",(function(e){e.target.checked?s("dark"):s("light")}),!1)}));var i=o("615fE");const a=document.querySelector(".js-list"),d=document.querySelector(".js-category-books-title"),u=document.querySelector(".categories-list"),g=document.querySelector(".best-sellers"),m=document.querySelector(".best-sellers-title");function b(e){!function(e){const t=e.split(" "),n=t[t.length-1],o=t.slice(0,t.length-1).join(" ")+" ";d.innerHTML=`<h2 class="category-title-begin">${o}<span class="category-title-end">${n}</span></h2>`}(e),(0,i.getBookByCategory)(e).then((e=>{a.innerHTML=e.map((({book_image:e,title:t,author:n,_id:o})=>`<li class="category-item" id="${o}">\n        <a href="">\n          <div class="book-card-wrap">\n            <img src="${e}" alt="${t}" />\n            <p class="card-up-text">quick view</p>\n          </div>\n         \n            <h3 class="book-card-title">${t}</h3>\n            <p class="book-card-author">${n}</p>\n          </div>\n        </a>\n      </li>`)).join("")}))}u.addEventListener("click",(function(e){if("A"!==e.target.nodeName||"All category"===e.target.textContent)return;e.preventDefault(),m.textContent="",g.innerHTML="",b(e.target.textContent)})),g.addEventListener("click",(function(e){if("best-sellers-button"!==e.target.className)return;m.textContent="",g.innerHTML="",b(e.target.dataset.category)}));i=o("615fE");const f=document.querySelector(".categories-list");f.insertAdjacentHTML("afterbegin",'<li><a href="./index.html" class="js-categ-link category__link-all current-category">All category</a></li>'),async function(){const e=await(0,i.getCategoriesList)("category-list"),t=[];for(const{list_name:n}of e)t.push(n);const n=t.sort(((e,t)=>e.localeCompare(t))).map((e=>`<li class="category__item"><a href="" class="js-categ-link category__link">${e}</a></li>`)).join("");f.insertAdjacentHTML("beforeend",n)}();i=o("615fE");const _=document.querySelector(".modal-backdrop"),y=document.querySelector(".modal-container");document.querySelector(".js-list").addEventListener("click",(async function(e){e.preventDefault();const t=e.target.closest(".category-item").id;try{!function({book_image:e,title:t,description:n,_id:o}){const c=r();function r(){return`               \n<div class="book-card__modal" data-modal>\n   <button class="book-card__close modal-book__btn" data-modal-close>X</button>\n  <img\n    class="book-card__img"\n    src="${e}"\n    width="375px"\n    height="468px"\n    alt="book__img"\n  />\n      <div class="book-card__about">\n      <h3 class="book-card__title">${t}</h3>\n      <p class="book-card__desc">\n       ${n}\n      </p>\n      <ul class="book-add__btn">\n        <li><button class="book-add__watched modal-book__btn" id=${o}>add to Watched</button></li>\n      </ul>\n    </div>\n  </div>\n  \n`}y.insertAdjacentHTML("beforeend",c);const s={closeModalBtn:document.querySelector("[data-modal-close]"),body:document.querySelector("body")};function l(){window.removeEventListener("keydown",a),s.body.style.overflow="",_.classList.remove("active"),s.closeModalBtn.removeEventListener("click",l),_.removeEventListener("click",i),y.innerHTML=""}function i(e){e.target===e.currentTarget&&l()}function a(e){const t="Escape";e.code===t&&l()}_.classList.toggle("active"),s.closeModalBtn.addEventListener("click",l),_.addEventListener("click",i),window.addEventListener("keydown",a),s.body.style.overflow="hidden"}(await(0,i.getBookById)(t))}catch(e){console.log(e)}}));i=o("615fE");const p=document.querySelector(".best-sellers");let h=k();function k(){const e=window.innerWidth;return e>=1440?5:e>=768?3:e>=375?1:void 0}function v(e){return e.map((e=>{const t=e.books.slice(0,h).map((e=>`\n      <li class="best-sellers__item">\n        <img class="best-sellers__img" src="${e.book_image}" alt="" />\n        <h3 class="best-sellers__name">${e.title}</h3>\n        <p class="best-sellers__author">${e.author}</p>\n      </li>\n    `)).join("");return`<div class="best-sellers__container">\n              <p class="best-sellers__categori"> ${e.list_name}</p>\n              <ul class="best-sellers__list">\n              ${t}\n              </ul>\n              <div class="button-conteiner">\n              <button class="best-sellers-button" data-category="${e.list_name}">see more</button>\n              </div>\n            </div>`})).join("")}(0,i.getTopBooks)().then((function(e){p.innerHTML=v(e)})),window.addEventListener("resize",(function(){h=k(),p.innerHTML=v(response)})),o("jJ57b"),o("2xYNj");
//# sourceMappingURL=index.56410b38.js.map
