!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){o[e]=t},t.parcelRequired7c6=r),r("f3isR");var c={openBurgerBtn:document.querySelector(".burger-menu"),closeBurgerBtn:document.querySelector(".mobile-menu__button"),burger:document.querySelector(".mobile-menu-container")};function a(){c.burger.classList.toggle("is-hidden")}function s(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e),document.querySelectorAll('.common-toggle input[type="checkbox"]').forEach((function(t){t.checked="dark"===e}))}c.openBurgerBtn.addEventListener("click",a),c.closeBurgerBtn.addEventListener("click",a);var i=localStorage.getItem("theme");s(i||"light"),document.querySelectorAll('.common-toggle input[type="checkbox"]').forEach((function(e){e.addEventListener("change",(function(e){e.target.checked?s("dark"):s("light")}),!1)}));var l=r("f3isR"),d=document.querySelector(".best-sellers"),u=m();function m(){var e=window.innerWidth;return e>=1440?5:e>=768?3:e>=375?1:void 0}function g(e){return e.map((function(e){var t=e.books.slice(0,u).map((function(e){return'\n      <li class="best-sellers__item js-modal-item" id="'.concat(e._id,'">\n      <div class="card-wrap">\n        <img class="best-sellers__img" src="').concat(e.book_image,'" alt="" />\n        <p class="card">quick view</p>\n        </div>\n        <h3 class="best-sellers__name">').concat(e.title,'</h3>\n        <p class="best-sellers__author">').concat(e.author,"</p>\n      </li>\n    ")})).join("");return'<div class="best-sellers__container">\n              <p class="best-sellers__categori"> '.concat(e.list_name,'</p>\n              <ul class="best-sellers__list">\n              ').concat(t,'\n              </ul>\n              <div class="button-conteiner">\n              <button class="best-sellers-button" data-category="').concat(e.list_name,'">see more</button>\n              </div>\n            </div>')})).join("")}(0,l.getTopBooks)().then((function(e){d.innerHTML=g(e),window.addEventListener("resize",(function(){u=m(),d.innerHTML=g(e)}))})),r("h2DKL");l=r("f3isR");var b=document.querySelector(".js-list"),f=document.querySelector(".js-category-books-title"),v=document.querySelector(".categories-list"),p=document.querySelector(".best-sellers"),_=document.querySelector(".best-sellers-title");function h(e){var t,n,o;t=e.split(" "),n=t[t.length-1],o=t.slice(0,t.length-1).join(" ")+" ",f.innerHTML='<h2 class="category-title-begin">'.concat(o,'<span class="category-title-end">').concat(n,"</span></h2>"),(0,l.getBookByCategory)(e).then((function(e){b.innerHTML=e.map((function(e){var t=e.book_image,n=e.title,o=e.author,r=e._id;return'<li class="category-item js-modal-item" id="'.concat(r,'">\n        <a href="">\n          <div class="book-card-wrap">\n            <img src="').concat(t,'" alt="').concat(n,'" />\n            <p class="card-up-text">quick view</p>\n          </div>\n         \n            <h3 class="book-card-title">').concat(n,'</h3>\n            <p class="book-card-author">').concat(o,"</p>\n          </div>\n        </a>\n      </li>")})).join("")}))}v.addEventListener("click",(function(e){if("A"!==e.target.nodeName||"All category"===e.target.textContent)return;e.preventDefault(),_.textContent="",p.innerHTML="",h(e.target.textContent)})),p.addEventListener("click",(function(e){if("best-sellers-button"!==e.target.className)return;_.textContent="",p.innerHTML="",h(e.target.dataset.category)}));var y=r("bpxeT"),k=r("2TvXO"),L=(l=r("f3isR"),document.querySelector(".categories-list"));function w(){return(w=e(y)(e(k).mark((function t(){var n,o,r,c,a,s,i,d,u;return e(k).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.getCategoriesList)("category-list");case 2:for(n=e.sent,o=[],r=!0,c=!1,a=void 0,e.prev=5,s=n[Symbol.iterator]();!(r=(i=s.next()).done);r=!0)d=i.value.list_name,o.push(d);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),c=!0,a=e.t0;case 13:e.prev=13,e.prev=14,r||null==s.return||s.return();case 16:if(e.prev=16,!c){e.next=19;break}throw a;case 19:return e.finish(16);case 20:return e.finish(13);case 21:u=o.sort((function(e,t){return e.localeCompare(t)})).map((function(e){return'<li class="category__item"><a href="" class="js-categ-link category__link">'.concat(e,"</a></li>")})).join(""),L.insertAdjacentHTML("beforeend",u);case 23:case"end":return e.stop()}}),t,null,[[5,9,13,21],[14,,16,20]])})))).apply(this,arguments)}L.insertAdjacentHTML("afterbegin",'<li><a href="./index.html" class="js-categ-link category__link-all current-category">All category</a></li>'),function(){w.apply(this,arguments)}();y=r("bpxeT"),k=r("2TvXO"),l=r("f3isR");var x=document.querySelector(".modal-backdrop"),q=document.querySelector(".modal-container"),S=document.querySelector(".js-list"),E=document.querySelector(".best-sellers");function T(e){return j.apply(this,arguments)}function j(){return(j=e(y)(e(k).mark((function t(n){var o;return e(k).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),n.target.closest(".js-modal-item").id&&(o=n.target.closest(".js-modal-item").id),e.prev=3,e.next=6,(0,l.getBookById)(o);case 6:B(e.sent),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),t,null,[[3,10]])})))).apply(this,arguments)}function B(e){var t=e.book_image,n=e.title,o=e.description,r=e._id,c=' \n    <div class="modal-content"> \n    <div class="book-card__modal" data-modal>\n   <button class="book-card__close modal-book__btn" data-modal-close>X</button>\n  <img\n    class="book-card__img"\n    src="'.concat(t,'"\n    width="375px"\n    height="468px"\n    alt="book__img"\n  />\n      <div class="book-card__about">\n      <h3 class="book-card__title">').concat(n,'</h3>\n      <p class="book-card__desc">\n       ').concat(o,'\n      </p>\n    </div>\n  </div>\n  <ul class="book-add__btn">\n        <li><button class="book-add__watched modal-book__btn" id=').concat(r,">add to Watched</button></li>\n      </ul>\n   </div>           \n");q.insertAdjacentHTML("beforeend",c);var a={closeModalBtn:document.querySelector("[data-modal-close]"),body:document.querySelector("body")};function s(){window.removeEventListener("keydown",l),a.body.style.overflow="",x.classList.remove("active"),a.closeModalBtn.removeEventListener("click",s),x.removeEventListener("click",i),q.innerHTML=""}function i(e){e.target===e.currentTarget&&s()}function l(e){"Escape"===e.code&&s()}x.classList.toggle("active"),a.closeModalBtn.addEventListener("click",s),x.addEventListener("click",i),window.addEventListener("keydown",l),a.body.style.overflow="hidden"}S.addEventListener("click",T),E.addEventListener("click",T),r("4WFAO")}();
//# sourceMappingURL=index.fbd0de9b.js.map
