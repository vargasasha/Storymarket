{"mappings":"imBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCCnBTE,EAAAC,QAAiB,IAAAC,IAAoBC,EAAA,SAAAC,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,U,sCCA5FR,EAAAC,QAAiB,IAAAC,IAAoBC,EAAA,SAAAC,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,U,sCCA5FR,EAAAC,QAAiB,IAAAC,IAAoBC,EAAA,SAAAC,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,U,sCCA5FR,EAAAC,QAAiB,IAAAC,IAAoBC,EAAA,SAAAC,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,U,sCCA5FR,EAAAC,QAAiB,IAAAC,IAAoBC,EAAA,SAAAC,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,U,ICA5FL,EAAA,SAAAM,SAA8CC,KAAKC,MAAM,kVCAzD,IAAAC,EAAAT,EAAA,SAEA,MAsFMU,EAAaC,IACjB,MAEMC,EAFYC,SAASC,cAAc,kBAEjBC,iBAAiB,kBAEzC,GAAIJ,GAAS,GAAKA,EAAQC,EAAMnB,OAAQ,CACjBmB,EAAMD,GACdK,Q,GA7FAC,WACf,MAAMC,EAAYL,SAASC,cAAc,kBAGnCK,QAAa,EAAAV,EAAAW,eAGbC,EAAkBF,EAAK,GAAGG,MAAM7B,OAClC0B,EAAK,GAAGG,MACLC,MAAM,EAAG,GACTC,KACC,EAACC,MACCA,EAAKC,OACLA,EAAMC,WACNA,EAAUC,YACVA,EAAWC,UACXA,EAASC,UACTA,MAEA,MAAMC,EAAQ,8DAELF,EAAU,GAAGzB,8EACUJ,EAAA,+DAEvB6B,EAAU,GAAGzB,4EACQJ,EAAA,+DAErB6B,EAAU,GAAGzB,4EACQJ,EAAA,kEAK9B,MAAO,yHAGuB2B,WAAoBF,+JAKjBzB,EAAA,2GAIFyB,sDACEK,wDACGF,kHAGLF,wBAC3BK,gEAIT,IAGEC,KAAK,IACR,iNAMWhC,EAAA,4DAKfiC,QAAQC,IACN,6DACAb,GAEFH,EAAUiB,UAAYd,EAEtBY,QAAQG,QAEcvB,SAASE,iBAAiB,kBAClCsB,SAAQ,CAACC,EAAQ3B,KAC7B2B,EAAOC,iBAAiB,SAAS,KAC/B7B,EAAWC,EAAM,GACjB,GACF,EAcJ6B,G","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-74574cac2b08b7f9.js","node_modules/@parcel/runtime-js/lib/runtime-f0bde3ac33671805.js","node_modules/@parcel/runtime-js/lib/runtime-2293c3197ae675af.js","node_modules/@parcel/runtime-js/lib/runtime-428ddf936ad524b3.js","node_modules/@parcel/runtime-js/lib/runtime-b93f689af298ad8f.js","node_modules/@parcel/runtime-js/lib/runtime-577cf21ae6b0ad0e.js","src/js/shopping-list.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3NWVH\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"odAR4\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kUPIL\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4cBaF\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"drtW6\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9bx4\\\":\\\"shopping-list.1c0ae1c0.js\\\",\\\"3NWVH\\\":\\\"amazon.a5fcee15.png\\\",\\\"odAR4\\\":\\\"out.f357048c.png\\\",\\\"kUPIL\\\":\\\"book.d9cf0e69.png\\\",\\\"4cBaF\\\":\\\"remove-icon.f014307d.svg\\\",\\\"drtW6\\\":\\\"books.26cd9257.png\\\",\\\"4l2W5\\\":\\\"index.27a3ff83.js\\\"}\"));","import { getTopBooks } from './main-fetch.js';\n\nconst drawList = async () => {\n  const container = document.querySelector('.shopping-list');\n\n\n  const data = await getTopBooks();\n  //const data = JSON.parse(localStorage.getItem('shopping-list'));\n\n  const dynamicElements = data[0].books.length\n    ? data[0].books\n        .slice(0, 3)\n        .map(\n          ({\n            title,\n            author,\n            book_image,\n            description,\n            buy_links,\n            list_name,\n          }) => {\n            const links = `\n        <div class=\"shopping-links\">\n          <a href=\"${buy_links[0].url}\" rel=\"noopener noreferrer\">\n            <img class=\"amazon-link\" src=\"${require('../images/shopping-list/amazon.png')}\" alt=\"name\" />\n          </a>\n          <a href=\"${buy_links[1].url}\" rel=\"noopener noreferrer\">\n            <img class=\"page-link\" src=\"${require('../images/shopping-list/out.png')}\" alt=\"page\" />\n          </a>\n          <a href=\"${buy_links[2].url}\" rel=\"noopener noreferrer\">\n            <img class=\"book-link\" src=\"${require('../images/shopping-list/book.png')}\" alt=\"book\" />\n          </a>\n        </div>\n      `;\n\n            return `\n        <li class=\"shopping-card\">\n          <div class=\"shopping-cover\">\n            <img class=\"img-cover\" src=\"${book_image}\" alt=\"${title}\" />\n          </div>\n          <div class=\"shopping-content\">\n\n            <button class=\"remove-button\">\n             <img class=\"remove-icon\" src=\"${require('../images/shopping-list/remove-icon.svg')}\" alt=''>\n\n            </button>\n            <div>\n              <h2 class=\"shopping-title\">${title}</h2>\n              <p class=\"shopping-category\">${list_name}</p>\n              <p class=\"shopping-description\">${description}</p>\n            </div>\n            <div class=\"shopping-footer\">\n              <p class=\"shopping-author\">${author}</p>\n              ${links}\n            </div>\n          </div>\n        </li>\n      `;\n          }\n        )\n        .join('')\n    : `<li class=\"page-empty\">\n        <h2 class=\"empty-description\">\n          This page is empty, add some books and proceed to order.\n        </h2>\n        <img\n          class=\"img-empty\"\n          src=\"${require('../images/shopping-list/books.png')}\"\n          alt=\"books\"\n        />\n      </li>`;\n\n  console.log(\n    ' ~ file: shopping-list.js:81 ~ drawList ~ dynamicElements:',\n    dynamicElements\n  );\n  container.innerHTML = dynamicElements;\n\n  console.clear();\n  \n  const removeButtons = document.querySelectorAll('.remove-button');\n  removeButtons.forEach((button, index) => {\n    button.addEventListener('click', () => {\n      removeBook(index);\n    });\n  });\n};\n\nconst removeBook = index => {\n  const container = document.querySelector('.shopping-list');\n\n  const cards = container.querySelectorAll('.shopping-card');\n\n  if (index >= 0 && index < cards.length) {\n    const cardToRemove = cards[index];\n    cardToRemove.remove();\n  }\n};\n\ndrawList();\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","URL","parcelRequire","resolve","import","meta","url","toString","register","JSON","parse","$615fE","$e5c62ffd1c5d842f$var$removeBook","index","cards","document","querySelector","querySelectorAll","remove","async","container","data","getTopBooks","dynamicElements","books","slice","map","title","author","book_image","description","buy_links","list_name","links","join","console","log","innerHTML","clear","forEach","button","addEventListener","$e5c62ffd1c5d842f$var$drawList"],"version":3,"file":"shopping-list.1c0ae1c0.js.map"}