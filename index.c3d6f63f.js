var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var c={id:e,exports:{}};return t[e]=c,o.call(c.exports,c,c.exports),c.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("615fE");const c={openBurgerBtn:document.querySelector(".burger-menu"),closeBurgerBtn:document.querySelector(".mobile-menu__button"),burger:document.querySelector(".mobile-menu-container")};function s(){c.burger.classList.toggle("is-hidden")}function l(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);document.querySelectorAll('.common-toggle input[type="checkbox"]').forEach((function(t){t.checked="dark"===e}))}c.openBurgerBtn.addEventListener("click",s),c.closeBurgerBtn.addEventListener("click",s);const r=localStorage.getItem("theme");l(r||"light");document.querySelectorAll('.common-toggle input[type="checkbox"]').forEach((function(e){e.addEventListener("change",(function(e){e.target.checked?l("dark"):l("light")}),!1)}));var i=o("615fE");const a=document.querySelector(".best-sellers");let d=u();function u(){const e=window.innerWidth;return e>=1440?5:e>=768?3:e>=375?1:void 0}function m(e){return e.map((e=>{const t=e.books.slice(0,d).map((e=>`\n      <li class="best-sellers__item js-modal-item" id="${e._id}">\n      <div class="card-wrap">\n        <img class="best-sellers__img" src="${e.book_image}" alt="" />\n        <p class="card">quick view</p>\n        </div>\n        <h3 class="best-sellers__name">${e.title}</h3>\n        <p class="best-sellers__author">${e.author}</p>\n      </li>\n    `)).join("");return`<div class="best-sellers__container">\n              <p class="best-sellers__categori"> ${e.list_name}</p>\n              <ul class="best-sellers__list">\n              ${t}\n              </ul>\n              <div class="button-conteiner">\n              <button class="best-sellers-button" data-category="${e.list_name}">see more</button>\n              </div>\n            </div>`})).join("")}(0,i.getTopBooks)().then((function(e){a.innerHTML=m(e),window.addEventListener("resize",(function(){d=u(),a.innerHTML=m(e)}))})),o("2xYNj");i=o("615fE");const g=document.querySelector(".js-list"),b=document.querySelector(".js-category-books-title"),f=document.querySelector(".categories-list"),_=document.querySelector(".best-sellers"),y=document.querySelector(".best-sellers-title");function p(e){!function(e){const t=e.split(" "),n=t[t.length-1],o=t.slice(0,t.length-1).join(" ")+" ";b.innerHTML=`<h2 class="category-title-begin">${o}<span class="category-title-end">${n}</span></h2>`}(e),(0,i.getBookByCategory)(e).then((e=>{g.innerHTML=e.map((({book_image:e,title:t,author:n,_id:o})=>`<li class="category-item js-modal-item" id="${o}">\n        <a href="">\n          <div class="book-card-wrap">\n            <img src="${e}" alt="${t}" />\n            <p class="card-up-text">quick view</p>\n          </div>\n         \n            <h3 class="book-card-title">${t}</h3>\n            <p class="book-card-author">${n}</p>\n          </div>\n        </a>\n      </li>`)).join("")}))}f.addEventListener("click",(function(e){if("A"!==e.target.nodeName||"All category"===e.target.textContent)return;e.preventDefault(),y.textContent="",_.innerHTML="",p(e.target.textContent)})),_.addEventListener("click",(function(e){if("best-sellers-button"!==e.target.className)return;y.textContent="",_.innerHTML="",p(e.target.dataset.category)}));i=o("615fE");const k=document.querySelector(".categories-list");k.insertAdjacentHTML("afterbegin",'<li><a href="./index.html" class="js-categ-link category__link-all current-category">All category</a></li>'),async function(){const e=await(0,i.getCategoriesList)("category-list"),t=[];for(const{list_name:n}of e)t.push(n);const n=t.sort(((e,t)=>e.localeCompare(t))).map((e=>`<li class="category__item"><a href="" class="js-categ-link category__link">${e}</a></li>`)).join("");k.insertAdjacentHTML("beforeend",n)}();i=o("615fE");const v=document.querySelector(".modal-backdrop"),h=document.querySelector(".modal-container"),L=document.querySelector(".js-list"),w=document.querySelector(".best-sellers");async function E(e){let t;e.preventDefault(),e.target.closest(".js-modal-item").id&&(t=e.target.closest(".js-modal-item").id);try{!function({book_image:e,title:t,description:n,_id:o}){const c=s();function s(){return` \n    <div class="modal-content"> \n    <div class="book-card__modal" data-modal>\n   <button class="book-card__close modal-book__btn" data-modal-close>X</button>\n  <img\n    class="book-card__img"\n    src="${e}"\n    width="375px"\n    height="468px"\n    alt="book__img"\n  />\n      <div class="book-card__about">\n      <h3 class="book-card__title">${t}</h3>\n      <p class="book-card__desc">\n       ${n}\n      </p>\n    </div>\n  </div>\n  <ul class="book-add__btn">\n        <li><button class="book-add__watched modal-book__btn" id=${o}>add to Watched</button></li>\n      </ul>\n   </div>           \n`}h.insertAdjacentHTML("beforeend",c);const l={closeModalBtn:document.querySelector("[data-modal-close]"),body:document.querySelector("body")};function r(){window.removeEventListener("keydown",a),l.body.style.overflow="",v.classList.remove("active"),l.closeModalBtn.removeEventListener("click",r),v.removeEventListener("click",i),h.innerHTML=""}function i(e){e.target===e.currentTarget&&r()}function a(e){const t="Escape";e.code===t&&r()}v.classList.toggle("active"),l.closeModalBtn.addEventListener("click",r),v.addEventListener("click",i),window.addEventListener("keydown",a),l.body.style.overflow="hidden"}(await(0,i.getBookById)(t))}catch(e){console.log(e)}}L.addEventListener("click",E),w.addEventListener("click",E),o("jJ57b");
//# sourceMappingURL=index.c3d6f63f.js.map
