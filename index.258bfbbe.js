var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var c={id:e,exports:{}};return t[e]=c,o.call(c.exports,c,c.exports),c.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("615fE");const c={openBurgerBtn:document.querySelector(".burger-menu"),closeBurgerBtn:document.querySelector(".mobile-menu__button"),burger:document.querySelector(".mobile-menu-container")};function l(){c.burger.classList.toggle("is-hidden")}function s(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);document.querySelectorAll('.common-toggle input[type="checkbox"]').forEach((function(t){t.checked="dark"===e}))}c.openBurgerBtn.addEventListener("click",l),c.closeBurgerBtn.addEventListener("click",l);const r=localStorage.getItem("theme");s(r||"light");document.querySelectorAll('.common-toggle input[type="checkbox"]').forEach((function(e){e.addEventListener("change",(function(e){e.target.checked?s("dark"):s("light")}),!1)}));var a=o("615fE");const i=document.querySelector(".best-sellers");let d=u();function u(){const e=window.innerWidth;return e>=1440?5:e>=768?3:e>=375?1:void 0}function m(e){return e.map((e=>{const t=e.books.slice(0,d).map((e=>`\n      <li class="best-sellers__item js-modal-item" id="${e._id}">\n      <div class="card-wrap">\n        <img class="best-sellers__img" src="${e.book_image}" alt="" />\n        <p class="card">quick view</p>\n        </div>\n        <h3 class="best-sellers__name">${e.title}</h3>\n        <p class="best-sellers__author">${e.author}</p>\n      </li>\n    `)).join("");return`<div class="best-sellers__container">\n              <p class="best-sellers__categori"> ${e.list_name}</p>\n              <ul class="best-sellers__list">\n              ${t}\n              </ul>\n              <div class="button-conteiner">\n              <button class="best-sellers-button" data-category="${e.list_name}">see more</button>\n              </div>\n            </div>`})).join("")}(0,a.getTopBooks)().then((function(e){i.innerHTML=m(e),window.addEventListener("resize",(function(){d=u(),i.innerHTML=m(e)}))})),o("2xYNj");a=o("615fE");const g=document.querySelector(".js-list"),b=document.querySelector(".js-category-books-title"),f=document.querySelector(".categories-list"),h=document.querySelector(".best-sellers"),y=document.querySelector(".best-sellers-title");function k(e){!function(e){const t=e.split(" "),n=t[t.length-1],o=t.slice(0,t.length-1).join(" ")+" ";b.innerHTML=`<h2 class="category-title-begin">${o}<span class="category-title-end">${n}</span></h2>`}(e),(0,a.getBookByCategory)(e).then((e=>{g.innerHTML=e.map((({book_image:e,title:t,author:n,_id:o})=>`<li class="category-item js-modal-item" id="${o}">\n        <a href="">\n          <div class="book-card-wrap">\n            <img src="${e}" alt="${t}" />\n            <p class="card-up-text">quick view</p>\n          </div>\n         \n            <h3 class="book-card-title">${t}</h3>\n            <p class="book-card-author">${n}</p>\n          </div>\n        </a>\n      </li>`)).join("")}))}f.addEventListener("click",(function(e){if("A"!==e.target.nodeName||"All category"===e.target.textContent)return;e.preventDefault(),y.textContent="",h.innerHTML="",k(e.target.textContent)})),h.addEventListener("click",(function(e){if("best-sellers-button"!==e.target.className)return;y.textContent="",h.innerHTML="",k(e.target.dataset.category)}));a=o("615fE");const _=document.querySelector(".categories-list");_.insertAdjacentHTML("afterbegin",'<li><a href="./index.html" class="js-categ-link category__link-all current-category">All category</a></li>'),async function(){const e=await(0,a.getCategoriesList)("category-list"),t=[];for(const{list_name:n}of e)t.push(n);const n=t.sort(((e,t)=>e.localeCompare(t))).map((e=>`<li class="category__item"><a href="" class="js-categ-link category__link">${e}</a></li>`)).join("");_.insertAdjacentHTML("beforeend",n)}();a=o("615fE");const p=document.querySelector(".modal-backdrop"),v=document.querySelector(".modal-container"),L=document.querySelector(".js-list"),E=document.querySelector(".best-sellers");async function S(e){let t;e.preventDefault(),e.target.closest(".js-modal-item").id&&(t=e.target.closest(".js-modal-item").id);try{const e=await(0,a.getBookById)(t);console.log(e),function({book_image:e,title:t,author:n,description:o,_id:c}){""===o&&(o="No description");const l=s();function s(){return` \n    <div class="modal-content"> \n    <div class="book-card__modal" data-modal>\n   <button class="book-card__close modal-book__btn" data-modal-close>X</button>\n  <img\n    class="book-card__img"\n    src="${e}"\n\n    alt="book__img"\n  />\n      <div class="book-card__about">\n      <h3 class="book-card__title">${t}</h3>\n      <p class="book-card__author">${n}</p>\n      <p class="book-card__desc">\n       ${o}\n      </p>\n    </div>\n  </div>\n\n  <button class="book-add__watched modal-book__btn" id=${c}>Add to shopping list</button>\n      \n   </div>           \n`}v.insertAdjacentHTML("beforeend",l);const r={closeModalBtn:document.querySelector("[data-modal-close]"),body:document.querySelector("body")};function a(){window.removeEventListener("keydown",d),r.body.style.overflow="",p.classList.remove("active"),r.closeModalBtn.removeEventListener("click",a),p.removeEventListener("click",i),v.innerHTML=""}function i(e){e.target===e.currentTarget&&a()}function d(e){const t="Escape";e.code===t&&a()}p.classList.toggle("active"),r.closeModalBtn.addEventListener("click",a),p.addEventListener("click",i),window.addEventListener("keydown",d),r.body.style.overflow="hidden"}(e)}catch(e){console.log(e)}}L.addEventListener("click",S),E.addEventListener("click",S);let q=document.querySelectorAll(".changeTheme");const w=document.querySelector(".toggle-theme"),$=document.querySelector("body");function j(e){q.forEach((e=>{e.style.display="block"})),localStorage.setItem("theme",e)}console.log($),q.forEach((e=>{e.addEventListener("click",(function(){j(this.dataset.theme)}))}));let B=localStorage.getItem("theme");null===B||"light"===B?j("light"):"dark"===B&&j("dark"),w.addEventListener("click",(function(e){const t=localStorage.getItem("theme");console.log(t),console.log(e),null===t||"light"===t?$.classList.add("global-dark-theme"):"dark"===t&&$.classList.remove("global-dark-theme")}));
//# sourceMappingURL=index.258bfbbe.js.map
