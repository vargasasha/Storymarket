{"mappings":"iiBAAA,I,EAAAA,EAAAC,EAAA,S,0BAEMC,G,EAAWC,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,I,IAOZC,EANGC,EACAC,EAkBAC,EACAC,EACAC,EAEAC,E,yEAvBAL,EAAYM,SAASC,cAAc,kB,UACtB,EAAAC,EAAAC,e,WAAbR,EAAIS,EAAAC,OAIQ,IAAhBV,EAAKW,SACG,QAAPb,EAAAE,EAAK,UAAE,IAAPF,OAAA,EAAAA,EAASc,QACe,IAAzBZ,EAAK,GAAGY,MAAMD,OAAY,C,sBAE1BZ,EAAUc,UAAa,wQ,0BAUnBZ,EAAYI,SAASC,cAAc,gBAAgBQ,aAAa,OAChEZ,EAAUG,SAASC,cAAc,cAAcQ,aAAa,OAC5DX,EAAUE,SAASC,cAAc,cAAcQ,aAAa,OAE5DV,EAAkBJ,EAAK,GAAGY,MAC7BG,MAAM,EAAG,GACTC,KAAI,SAAAC,G,IAAGC,EAAKD,EAALC,MAAOC,EAAMF,EAANE,OAAQC,EAAUH,EAAVG,WAAYC,EAAWJ,EAAXI,YAAaC,EAASL,EAATK,UAAWC,EAASN,EAATM,UACnDC,EAAQ,8DAGwBC,OADvBH,EAAU,GAAGI,IAAI,4EAGjBD,OAFuBxB,EAAU,wDAGZwB,OADrBH,EAAU,GAAGI,IAAI,0EAGjBD,OAFqBvB,EAAQ,wDAGRuB,OADrBH,EAAU,GAAGI,IAAI,0EACYD,OAARtB,EAAQ,2DAK5C,MAAO,yHAGiDsB,OAApBL,EAAW,WAUVK,OAVmBP,EAAM,uXAWvBO,OADFP,EAAM,sDAEDO,OADHF,EAAU,wDAIZE,OAHKJ,EAAY,kHAI5CI,OAD2BN,EAAO,wBAC5BM,OAAND,EAAM,gE,IAMjBG,KAAK,IAER5B,EAAUc,UAAYT,EAEAC,SAASuB,iBAAiB,kBAClCC,SAAQ,SAACC,EAAQC,GAC7BD,EAAOE,iBAAiB,SAAS,WAC/BC,EAAWF,E,+FAKXE,EAAa,SAAAF,GACjB,IAEMG,EAFY7B,SAASC,cAAc,kBAEjBsB,iBAAiB,kBAErCG,GAAS,GAAKA,EAAQG,EAAMvB,QACTuB,EAAMH,GACdI,Q,EAIjB1C,G","sources":["src/js/shopping-list.js"],"sourcesContent":["import { getTopBooks } from './main-fetch.js';\n\nconst drawList = async () => {\n  const container = document.querySelector('.shopping-list');\n  const data = await getTopBooks();\n\n  if (\n    !data ||\n    data.length === 0 ||\n    !data[0]?.books ||\n    data[0].books.length === 0\n  ) {\n    container.innerHTML = `\n      <div class=\"page-empty\">\n        <h2 class=\"empty-description\">\n          This page is empty, add some books and proceed to order.\n        </h2>\n        <img class=\"img-empty\" src=\"./images/shopping-list/books.png\" alt=\"books\" />\n      </div>\n    `;\n    return;\n  }\n  const amazonImg = document.querySelector('.amazon-link').getAttribute('src');\n  const pageImg = document.querySelector('.page-link').getAttribute('src');\n  const bookImg = document.querySelector('.book-link').getAttribute('src');\n\n  const dynamicElements = data[0].books\n    .slice(0, 3)\n    .map(({ title, author, book_image, description, buy_links, list_name }) => {\n      const links = `\n        <div class=\"shopping-links\">\n          <a href=\"${buy_links[0].url}\" rel=\"noopener noreferrer\">\n            <img class=\"amazon-link\" src=\"${amazonImg}\" alt=\"name\" />\n          </a>\n          <a href=\"${buy_links[1].url}\" rel=\"noopener noreferrer\">\n            <img class=\"page-link\" src=\"${pageImg}\" alt=\"page\" />\n          </a>\n          <a href=\"${buy_links[2].url}\" rel=\"noopener noreferrer\">\n            <img class=\"book-link\" src=\"${bookImg}\" alt=\"book\" />\n          </a>\n        </div>\n      `;\n\n      return `\n        <li class=\"shopping-card\">\n          <div class=\"shopping-cover\">\n            <img class=\"img-cover\" src=\"${book_image}\" alt=\"${title}\" />\n          </div>\n          <div class=\"shopping-content\">\n          \n            <button class=\"remove-button\">\n              <svg class=\"remove-icon\" width=\"12\" height=\"12\">\n                <use href=\"./images/shopping-list/remove.svg#icon-Icon\"></use>\n              </svg>\n            </button>\n            <div>\n              <h2 class=\"shopping-title\">${title}</h2>\n              <p class=\"shopping-category\">${list_name}</p>\n              <p class=\"shopping-description\">${description}</p>\n            </div>\n            <div class=\"shopping-footer\">\n              <p class=\"shopping-author\">${author}</p>\n              ${links}\n            </div>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n\n  container.innerHTML = dynamicElements;\n\n  const removeButtons = document.querySelectorAll('.remove-button');\n  removeButtons.forEach((button, index) => {\n    button.addEventListener('click', () => {\n      removeBook(index);\n    });\n  });\n};\n\nconst removeBook = index => {\n  const container = document.querySelector('.shopping-list');\n\n  const cards = container.querySelectorAll('.shopping-card');\n\n  if (index >= 0 && index < cards.length) {\n    const cardToRemove = cards[index];\n    cardToRemove.remove();\n  }\n};\n\ndrawList();\n"],"names":["$bpxeT","parcelRequire","$399cd7aec2522034$var$drawList","$parcel$interopDefault","$2TvXO","mark","_callee","ref","container","data","amazonImg","pageImg","bookImg","dynamicElements","document","querySelector","$f3isR","getTopBooks","_ctx","sent","length","books","innerHTML","getAttribute","slice","map","param","title","author","book_image","description","buy_links","list_name","links","concat","url","join","querySelectorAll","forEach","button","index","addEventListener","$399cd7aec2522034$var$removeBook","cards","remove"],"version":3,"file":"shopping-list.a8d399f6.js.map"}